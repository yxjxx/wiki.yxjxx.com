<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>code fold - Wiki · yxjxx</title>
        <meta name="keywords" content="wiki, markdown, linux ,python ,mac os x,simiki"/>
        <meta name="description" content="yxjxx's personal wiki, powered by vim and markdown.Focus on python, Liunx, iOS, and so on."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#vim">vim</a>&nbsp;»&nbsp;code fold</div>
</div>
<div class="clearfix"></div>
<div id="title">code fold</div>
  <div id="content">
  <p>VIM 设置代码折叠</p>
<ol>
<li>折叠方式
可用选项 'foldmethod' 来设定折叠方式：set fdm=<strong>*</strong>。
有 6 种方法来选定折叠：</li>
</ol>
<div class="hlcode"><pre><span class="n">manual</span>           <span class="err">手工定义折叠</span>
<span class="n">indent</span>             <span class="err">更多的缩进表示更高级别的折叠</span>
<span class="n">expr</span>                <span class="err">用表达式来定义折叠</span>
<span class="n">syntax</span>             <span class="err">用语法高亮来定义折叠</span>
<span class="n">diff</span>                  <span class="err">对没有更改的文本进行折叠</span>
<span class="n">marker</span>            <span class="err">对文中的标志折叠</span>
</pre></div>


<p>注意，每一种折叠方式不兼容，如不能即用expr又用marker方式，我主要轮流使用indent和marker方式进行折叠。</p>
<p>使用时，用：set fdm=marker 命令来设置成marker折叠方式（fdm是foldmethod的缩写）。
要使每次打开vim时折叠都生效，则在.vimrc文件中添加设置，如添加：set fdm=syntax，就像添加其它的初始化设置一样。</p>
<ol>
<li>折叠命令
选取了折叠方式后，我们就可以对某些代码实施我们需要的折叠了，由于我使用indent和marker稍微多一些，故以它们的使用为例：
如果使用了indent方式，vim会自动的对大括号的中间部分进行折叠，我们可以直接使用这些现成的折叠成果。
在可折叠处（大括号中间）：
zc      折叠
zC     对所在范围内所有嵌套的折叠点进行折叠
zo      展开折叠
zO     对所在范围内所有嵌套的折叠点展开
[z       到当前打开的折叠的开始处。
]z       到当前打开的折叠的末尾处。
zj       向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。
zk      向上移动到前一折叠的结束处。关闭的折叠也被计入。</li>
</ol>
<p>当使用marker方式时，需要用标计来标识代码的折叠，系统默认是{{{和}}}，最好不要改动之：）
我们可以使用下面的命令来创建和删除折叠：
zf      创建折叠，比如在marker方式下：</p>
<div class="hlcode"><pre><span class="n">zf56G</span><span class="err">，创建从当前行起到</span><span class="mi">56</span><span class="err">行的代码折叠；</span>
<span class="mi">10</span><span class="n">zf</span><span class="err">或</span><span class="mi">10</span><span class="n">zf</span><span class="o">+</span><span class="err">或</span><span class="n">zf10</span><span class="err">↓，创建从当前行起到后</span><span class="mi">10</span><span class="err">行的代码折叠。</span>
<span class="mi">10</span><span class="n">zf</span><span class="o">-</span><span class="err">或</span><span class="n">zf10</span><span class="err">↑，创建从当前行起到之前</span><span class="mi">10</span><span class="err">行的代码折叠。</span>
<span class="err">在括号处</span><span class="n">zf</span><span class="o">%</span><span class="err">，创建从当前行起到对应的匹配的括号上去（（），</span><span class="p">{}</span><span class="err">，</span><span class="p">[]</span><span class="err">，</span><span class="o">&lt;&gt;</span><span class="err">等）。</span>
</pre></div>


<p>zd      删除 (delete) 在光标下的折叠。仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
zD     循环删除 (Delete) 光标下的折叠，即嵌套删除折叠。
          仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
zE     除去 (Eliminate) 窗口里“所有”的折叠。
          仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。</p>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2015 yxjxx.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>